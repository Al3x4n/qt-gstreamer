# This is a cmake project file that is used to run the compilation tests.
# We misuse cmake here by running tests with the try_compile command and basing
# the result of the whole test suite on the cmake exit status.

cmake_minimum_required(VERSION 2.8)
find_package(QtGstreamer REQUIRED)
include(MacroCXXCompilationTest)

set(CMAKE_REQUIRED_LIBRARIES ${QTGSTREAMER_LIBRARIES})
set(CMAKE_REQUIRED_INCLUDES ${QTGSTREAMER_INCLUDES})
set(CMAKE_REQUIRED_DEFINITIONS ${QTGSTREAMER_DEFINITIONS})
set(CMAKE_REQUIRED_FLAGS "${QTGSTREAMER_FLAGS}")

message("********* Begin running compilation tests *********")
include(CompilationTests.cmake)
evaluate_cxx_compilation_test_results()
message("********* Finished running compilation tests *********")
